<ion-header>
  <ion-toolbar>
    <ion-title>uploader</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  
  <app-loading *ngIf="busy"></app-loading>
 <!--Thanh trang thai-->
<div class="start" *ngIf="!imageURL">
 <ion-card>
  <ion-item>
    <ion-avatar slot="start">
      <img src="https://ucarecdn.com/{{ profilePic }}/-/scale_crop/100x100/center/">
    </ion-avatar>
    <ion-textarea rows="3" cols="20" placeholder="Enter any notes here..." [(ngModel)]="feed"></ion-textarea>
    <!-- <ion-button fill="outline" slot="end">Post</ion-button> -->
  </ion-item>
  </ion-card>

  <!--Nut Button de up trang thai-->

  <ion-card>
    <ion-item> 
      <ion-button fill="outline" slot="start" (click)="UpFeed()">Upload</ion-button>

      <input type="file" *ngIf="!imageURL" (change)="fileChanged($event)" class="fileBtn" #fileButton />

      <ion-button shape="round" color="primary" (click)="uploadFile()"  fill="outline" slot="end">Upload file</ion-button>

    </ion-item>
  </ion-card>
  <!--Bang tin chinh cua ban-->
  <ion-card>
    <ion-card-content>
      <ion-label color="success">Bai dang noi bat cua ban</ion-label>
    </ion-card-content>
  </ion-card>

  <ion-card *ngFor="let post of myposts" class="status">
    <img *ngIf="!post.feed" src="https://ucarecdn.com/{{ post.image }}/-/preview/{{post.activeEffect}}-/scale_crop/200x200/center/" />
    <ion-card-content *ngIf="!post.feed">
        <p>{{post.desc}}</p>
    </ion-card-content>
    <ion-card-content *ngIf="post.feed">
      <p>{{post.feed}}</p>
  </ion-card-content>
    <ion-card-content>
      <ion-item (click)="Heart(post.likes)">
         <ion-icon [name]="heartType"></ion-icon>
      </ion-item>
    </ion-card-content>
  </ion-card>

  </div>
 <!--Nut Button De up anh-->
  <div class="center" *ngIf="!busy">
      <!-- <div class="camera"></div> -->

      <!-- <input type="file" *ngIf="!imageURL" (change)="fileChanged($event)" class="fileBtn" #fileButton />

      <ion-button shape="round" color="primary" (click)="uploadFile()" *ngIf="!imageURL" fill="outline">Upload File</ion-button> -->

      <div *ngIf="imageURL">
        <ion-grid>

          <ion-row>
            <ion-col size="12">
              <img src="https://ucarecdn.com/{{ imageURL }}/-/preview/{{ activeEffect }}" />
              <ion-card-content>
                <ion-textarea aria-placeholder="Enter Status" [(ngModel)]="desc"></ion-textarea>
                <ion-button shape="round" color="primary" (click)="uploadImage()">POST</ion-button>
              </ion-card-content>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col [class.active]="activeEffect===effects.effect1" (click)="setSelected('effect1')">
              <ion-img src="https://ucarecdn.com/{{ imageURL}}/{{ scaleCrop}}/"></ion-img>
            </ion-col>
            <ion-col [class.active]="activeEffect===effects.effect2" (click)="setSelected('effect2')">
              <ion-img src="https://ucarecdn.com/{{ imageURL}}/{{ scaleCrop}}/{{ effects.effect2 }}"></ion-img>
            </ion-col>
            <ion-col [class.active]="activeEffect===effects.effect3" (click)="setSelected('effect3')">
              <ion-img src="https://ucarecdn.com/{{ imageURL}}/{{ scaleCrop}}/{{ effects.effect3 }}"></ion-img>
            </ion-col>
            <ion-col [class.active]="activeEffect===effects.effect4" (click)="setSelected('effect4')">
              <ion-img src="https://ucarecdn.com/{{ imageURL}}/{{ scaleCrop}}/{{ effects.effect4 }}"></ion-img>
            </ion-col>
            <ion-col [class.active]="activeEffect===effects.effect5" (click)="setSelected('effect5')">
              <ion-img src="https://ucarecdn.com/{{ imageURL}}/{{ scaleCrop}}/{{ effects.effect5 }}"></ion-img>
            </ion-col>
          </ion-row>

        </ion-grid>
        </div>

  </div>
  <!--Bang tin cua ban-->
  
</ion-content>
